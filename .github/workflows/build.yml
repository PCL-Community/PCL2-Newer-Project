name: Minimal Source Build

on:
  push:
    branches: [main]

jobs:
  generate-and-build:
    strategy:
      matrix:
        os: [ubuntu-latest, macos-latest, windows-latest]
    runs-on: ${{ matrix.os }}
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Set up Flutter
        uses: subosito/flutter-action@v2
        with:
          channel: stable
      - name: Start Build
        run: |
          flutter pub get
          case "${{ runner.os }}" in
            Linux)   
                     sudo apt-get update -y
                     sudo apt-get install -y ninja-build libgtk-3-dev
                     flutter build linux --release ;;
            macOS)   flutter build macos --release ;;
            Windows) flutter build windows --release ;;
          esac
      # - name: Pack all by zip
      #   run: |
